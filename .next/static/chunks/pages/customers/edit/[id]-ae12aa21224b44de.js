(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{4385:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers/edit/[id]",function(){return n(2141)}])},2141:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(5893),c=n(7066),r=n(1664),a=n.n(r),l=n(1163),i=n(7294),d=n(2340);function u(){(0,i.useEffect)(()=>{c.Z.get("".concat(d.url,"/api/posts/").concat(t)).then(e=>{r(e.data.name),o(e.data.value)})},[]);let e=(0,l.useRouter)(),{id:t}=e.query,[n,r]=(0,i.useState)(""),[u,o]=(0,i.useState)(""),h=e=>{e.preventDefault()};return(0,s.jsx)("div",{children:(0,s.jsxs)("form",{className:"edit-modal",onSubmit:h,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"name"}),(0,s.jsx)("input",{type:"text",value:n,onChange:e=>{r(e.target.value)}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"value"}),(0,s.jsx)("input",{type:"text",value:u,onChange:e=>{o(e.target.value)}})]}),(0,s.jsxs)("div",{className:"buttons",children:[(0,s.jsx)("button",{onClick:()=>{!function(t){c.Z.put("".concat(d.url,"/api/posts/").concat(t),{name:n,value:Number(u)}).then(()=>{e.push("/customers")})}(t)},className:"ok",children:"تم"}),(0,s.jsx)(a(),{href:"/customers",children:(0,s.jsx)("button",{className:"back",children:"تراجع"})})]})]})})}console.log(d.url)},2340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d},url:function(){return i}});var s=n(5893),c=n(7066),r=n(1664),a=n.n(r),l=n(7294);let i="https://alaa-project-nextjs-9hhq.vercel.app";function d(){let[e,t]=(0,l.useState)([]),n=()=>{c.Z.get("".concat(i,"/api/posts")).then(e=>{t(e.data)})};async function r(e){window.confirm("هل أنت متأكد من حذف بيانات ".concat(e.name,"  ؟"))&&c.Z.delete("".concat(i,"/api/posts/").concat(e._id)).then(()=>{n()})}return console.log(e),(0,l.useEffect)(()=>{n()},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"add-customer",children:(0,s.jsx)(a(),{href:"/customers/addcustomer",children:(0,s.jsx)("button",{children:"إضافة زبون"})})}),(0,s.jsxs)("table",{className:"table-customers",dir:"rtl",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"الاسم"}),(0,s.jsx)("th",{children:"قيمة الرصيد"}),(0,s.jsx)("th",{children:"السعر"}),(0,s.jsx)("th",{children:"التكلفة"}),(0,s.jsx)("th",{children:"الحدث المراد"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.name}),(0,s.jsx)("td",{children:e.value}),(0,s.jsx)("td",{children:e.price}),(0,s.jsx)("td",{children:e.cost}),(0,s.jsxs)("td",{className:"actions-buttons",children:[(0,s.jsx)("button",{onClick:()=>{r(e)},className:"del-btn",children:"حذف"}),(0,s.jsx)(a(),{href:"/customers/edit/".concat(e._id),children:(0,s.jsx)("button",{className:"edit-btn",children:"تعديل"})}),(0,s.jsx)(a(),{href:"/customers/add/".concat(e._id),children:(0,s.jsx)("button",{className:"add-btn",children:"إضافة"})})]})]},e._id))})]})]})}},1163:function(e,t,n){e.exports=n(6885)}},function(e){e.O(0,[959,774,888,179],function(){return e(e.s=4385)}),_N_E=e.O()}]);